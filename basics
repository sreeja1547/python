# ------------------ Student Result Management System ------------------

# Function to calculate grade
def calculate_grade(marks):
    average = sum(marks) / len(marks)
    if average >= 90:
        return "A+"
    elif average >= 80:
        return "A"
    elif average >= 70:
        return "B"
    elif average >= 60:
        return "C"
    else:
        return "F"

# Function to display student details
def display_student(student):
    print("\nStudent Details:")
    print(f"Name: {student['name']}")
    print(f"Roll No: {student['roll_no']}")
    print(f"Marks: {student['marks']}")
    print(f"Average: {sum(student['marks']) / len(student['marks']):.2f}")
    print(f"Grade: {student['grade']}")

# ------------------ Class Example ------------------
class Student:
    def __init__(self, name, roll_no, marks):
        self.name = name
        self.roll_no = roll_no
        self.marks = marks
        self.grade = calculate_grade(marks)

    def to_dict(self):
        return {
            "name": self.name,
            "roll_no": self.roll_no,
            "marks": self.marks,
            "grade": self.grade
        }

# ------------------ Main Program ------------------
def main():
    print("Welcome to the Student Result Management System")

    students = []  # List to store student data

    while True:
        print("\n--- Menu ---")
        print("1. Add Student")
        print("2. View All Students")
        print("3. Search Student by Roll No")
        print("4. Save Data to File")
        print("5. Exit")

        choice = input("Enter your choice (1-5): ")

        try:
            if choice == "1":
                name = input("Enter student name: ")
                roll_no = int(input("Enter roll number: "))

                # Take marks input using list comprehension
                marks = [int(input(f"Enter marks for subject {i+1}: ")) for i in range(3)]

                student_obj = Student(name, roll_no, marks)
                students.append(student_obj.to_dict())

                print(f"Student {name} added successfully!")

            elif choice == "2":
                if not students:
                    print("No student records found.")
                else:
                    print("\n All Student Records:")
                    for stu in students:
                        display_student(stu)

            elif choice == "3":
                roll_search = int(input("Enter roll number to search: "))
                found = False
                for stu in students:
                    if stu["roll_no"] == roll_search:
                        display_student(stu)
                        found = True
                        break
                if not found:
                    print(" Student not found!")

            elif choice == "4":
                with open("students_data.txt", "w") as f:
                    for stu in students:
                        f.write(f"{stu}\n")
                print("Data saved successfully to 'students_data.txt'")

            elif choice == "5":
                print("Exiting the program... Goodbye!")
                break

            else:
                print(" Invalid choice. Please enter a number between 1 and 5.")

        except ValueError:
            print("Invalid input. Please enter numeric values for roll number and marks.")

